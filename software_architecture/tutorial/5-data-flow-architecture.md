# 5 数据流结构

模型之间的执行有三种类型

- 批量顺序
  - 数据流携带批量的数据作为一个整体，从一个子系统到另外一个子系统
  - 模块之间的通信可通过临时文件执行，并由后续的子系统删除
  - 对于数据是批量的应用可行，每个子系统读相关的输入文件，然后写相关的输出文件
  - 此架构典型的应用包括业务数据处理，比如银行和公用事业账单
  - 优点：提供子系统简单的分割，每个子系统可以是一个独立的程序，作用于输入数据，生成输出数据
  - 缺点：高延迟，低吞吐；不停并发和交互接口；需要外部控制实现
- 管道和过滤或非顺序的流水线模式
  - 过滤器：一个过滤器是一个独立的数据流转换器或流传感器。在内部转换输入数据流，然后通过管道写转换的数据流传给下一个过滤器处理
    - 主动过滤器：让连接的管道拉入数据，然后推出转换的数据
    - 被动过滤器：让连接的管道推入数据，然后拉出转换的数据，必须提供读写机制
  - 优点：并行，高吞吐；可复用，简化系统维护；易修改，低耦合；灵活度，支持顺序和并行执行
  - 缺点：对动态交互不合适；过滤器直接数据转换的负载；不支持过滤器合作交互解决问题；难以动态配置
  - 管道：无状态，存在于过滤器之间，可以携带二进制或字符流
- 流程控制
  - 处理单元：改变处理控制变量
  - 控制单元：计算改变数量。必须包含以下元素
    - 控制变量、输入变量、操纵变量、处理定义、敏感元件、设定点、控制算法